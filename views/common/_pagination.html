{% macro pagation(url, totalpage, currentPage)%}
<nav aria-label="Page navigation">
    <ul class="pagination">
        <li>
            <a href="{{url | replace('^^', 1)}}" aria-label="Previous">
                <span aria-hidden="true">首页</span>
            </a>
        </li>

        {%if totalpage <= 5%}
            {%set end = totalpage %}
        {%elif currentPage + 2 <= 5%}
            {%set end = 5 %}
        {%elif currentPage + 2 > totalpage%}
            {%set end = totalpage %}
        {%else%}
            {%set end = currentPage + 2 %}
        {%endif%}

        {%if end - 5 <= 0%}
            {%set start = 1%}
        {%else%}
            {%set start = end - 4%}
        {%endif%}

        {%for i in range(start, end + 1)%}
            {%if currentPage == i%}<li class="active">{%else%}<li >{%endif%}
            <a href="{{url | replace('^^', i)}}">{{i}}</a></li>
        {%endfor%}
        <li>
            <a href="{{url | replace('^^', totalpage)}}" aria-label="Next">
                <span aria-hidden="true">末页</span>
            </a>
        </li>
    </ul>
</nav>
{% endmacro %}